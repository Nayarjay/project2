{{> header}}


<div class="blur-effect"></div>
  <div class="grid" style="margin-top: 10%;">
    <div class="container" >
      <div class="row" style="display: flex;justify-content: center; ">
        {{#results}}
        <div class="col-sm-4" style="background-color: rgba(255, 255, 255, 0.75);">
          <h1>{{title}}</h1>
          <div class="description-container">
            <p class="description" >{{description}}</p>
          </div>
         
          <div>&nbsp;</div>
          <div>
            <a href="{{game_url}}" class="btn btn-warning" style="margin-bottom: 2%;">go to Download</a>
            <ul style="list-style-type: none;">
              <li>publisher: {{publisher}}</li>
              <li>developer: {{developer}}</li>
              <li>release_date: {{release_date}}</li>
              <li>genre: {{genre}}</li>
            </ul>
            {{#authenticated}}
            {{^gameExists}}
            <form method="POST" action="/add_favorite" style="margin-top: 2%;">
              <input type="hidden" name="idgame" value="{{id}}">
              <input type="hidden" name="title" value="{{title}}">
              <input type="hidden" name="thumbnail" value="{{thumbnail}}">
              <input type="hidden" name="description" value="{{short_description}}">

              <button type="submit" class="btn btn-info">add to favorite</button>
            </form>
            {{/gameExists}}
            {{#gameExists}}
            <form method="post" action="/deletefromfavorite" style="margin-top: 2%;">
              <input type="hidden" name="idgame" value="{{id}}">
              <input type="hidden" name="title" value="{{title}}">
              <input type="hidden" name="thumbnail" value="{{thumbnail}}">
              <input type="hidden" name="description" value="{{short_description}}">

              <button type="submit" class="btn btn-danger">Delete from favorite</button>
            </form>
            {{/gameExists}}
            {{/authenticated}}
          </div>
          <div>
            {{#minimum_system_requirements}}
            <ul style="list-style-type: none;">
              <li style="list-style: none;">
                <h2> Configuration </h2>
              </li>
              <li>os: {{os}}</li>
              <li>processor: {{processor}}</li>
              <li>memory: {{memory}}</li>
              <li>graphics: {{graphics}}</li>
              <li>storage: {{storage}}</li>
            </ul>
            {{/minimum_system_requirements}}
          </div>
        </div>
        <div class="col-lg-8">

          <div style="display: flex; flex-direction: column; align-items: center;">
            <img id="main-image" src="{{thumbnail}}"
              style="margin-top: 10px; border: 2px solid rgb(196, 87, 68); max-width: 100%; height: 400px; object-fit: contain;">
            <div style="display: flex; flex-wrap: wrap; justify-content: center;">
              {{#screenshots}}
              <img src="{{image}}"
                style="margin: 10px; border-radius: 3%; border: 2px solid rgb(253, 240, 213); height: 200px; width: 250px; object-fit: cover; cursor: pointer;"
                onclick="document.querySelector('#main-image').src='{{image}}';">
              {{/screenshots}}
            </div>
          </div>
        </div>
      </div>
    </div>
    {{/results}}
  </div>




<script>
  const mainImage = document.querySelector("#main-image");
  const backgroundImageElement = document.querySelector("#BackgroundImage");

  if (mainImage) {
    const backgroundImageUrl = mainImage.getAttribute("src");
    console.log(backgroundImageUrl);

    document.body.style.backgroundImage = `url('${backgroundImageUrl}')`;
  }


</script>


<style>
  body {
    
    position: relative;
    background-size: cover;
    background-repeat: no-repeat;
   /* backdrop-filter: blur(10px);
    width: 100%;
    height: 100%;
    position: fixed;
    z-index: -1;*/
  }

 


  .description-container {
    height: 195px;
    overflow: auto;
    
  }
  

  .description.expanded {
    height: auto;
  }





/* Style the scrollbar track */
.description-container::-webkit-scrollbar-track {
  background-color: #f1f1f1;
}

/* Style the scrollbar thumb */
.description-container::-webkit-scrollbar-thumb {
  background-color: #888;
  border-radius: 5px;
}

/* Hide the scrollbar when not hovered */
.description-container::-webkit-scrollbar {
  width: 8px;
  background-color: #f1f1f1;
}

.description-container:hover::-webkit-scrollbar-thumb {
  background-color: #555;
}

</style>

<script>

        
  //const title2 = document.getElementById("title2");
  var title2 = document.querySelectorAll("#title2");


 title2.forEach(function(title) {
  
    //console.log(title.textContent);
   if (title.textContent.length>20) {
     // Reduce the font size of the title
     title.style.fontSize = "1.24rem";


    }  

 })




</script>
 

{{> footer}}